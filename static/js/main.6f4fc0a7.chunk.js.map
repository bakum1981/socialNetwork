{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsItem/DialogsItem.module.css","components/Dialogs/Message/Message.module.css","common/FormControls/FormControls.jsx","components/Users/Users.module.css","api/api.js","redux/authReducer.js","redux/appReducer.js","assets/img/preloader.svg","common/Preloader/Preloader.jsx","redux/profileReducer.js","common/utilits/objectMap.js","redux/usersReducer.js","redux/store.js","components/Header/Header.jsx","components/Navbar/Navbar.jsx","assets/img/header_images.jpg","assets/img/userAvatar.png","components/Profile/ProfileStatus.jsx","components/Profile/ProfileInfoForm.jsx","components/Profile/ProfileInfo.jsx","assets/img/anonymous_steam_avatars-1-1.jpg","components/Profile/MyPosts.jsx","assets/img/arrowRight.svg","assets/img/arrowLeft.svg","common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Login/Login.jsx","components/Profile/Profile.jsx","App.js","reportWebVitals.js","index.js","common/utilits/validators.js","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/Dialogs.module.css","common/Paginator/Paginator.module.css","components/Header/Header.module.css","common/FormControls/FormControls.module.css","components/Dialogs/Message/Message.jsx","redux/dialogsReducer.js","components/Login/Login.module.css","components/Profile/Profile.module.css"],"names":["module","exports","maxLength50","maxLength","FormMessageWithReduxForm","reduxForm","form","props","message","useSelector","state","dialogs","onSubmit","handleSubmit","className","style","addMessage","createField","Textarea","requiredField","value","textarea","buttonWrap","cn","button","Dialogs","messages","isAuth","auth","dispatch","useDispatch","to","dialogsContent","names","name","map","el","index","text","formData","FormControl","input","meta","children","hasError","touched","error","formControls","textError","restProps","Input","formControlsInput","type","placeholder","component","validate","instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","portionSize","page","get","then","responce","data","setUnfollow","userId","delete","response","setFollow","post","profileAPI","status","put","profile","photo","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","SET__USERS__DATA","SET__CAPTCHA__URL","initialState","id","login","isCaptcha","setUsersData","authData","a","resultCode","getCaptcha","captchaUrl","authReducer","action","INITIALIZED__SUCCESS","GLOBAL__ERROR","initialized","globalError","payload","appReducer","Preloader","src","preloader","alt","ADD__POST","CHANGE__VALUE","SET__USER__PROFILE","SET__STATUS","DELETE__POST","SAVE__PHOTO__SUCCESS","TOGGLE__LONG__STATUS","posts","likes","longStatus","setStatus","savePhotoSuccess","toggleLongStatus","val","getUserProfile","profileReducer","postBody","newPost","newVal","filter","p","postId","photos","objectMap","items","itemId","objPropName","newObjectProp","item","SET__CURRENT__PAGE","SET__TOTAL__USERS__COUNT","SET__USERS","FOLLOW","UNFOLLOW","SET__IS__FETCHING","TOGGLE__FOLLOWING__PROCESS","users","totalUsersCount","currentPage","isFetching","isFollowing","follow","unfollow","setIsFetching","toggleFollowingProcess","totalCount","followUnfollowFlow","apiData","usersReducer","followed","reducers","combineReducers","dialogsReducer","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","header","loginWrap","buttonLogout","onClick","logo","Navbar","React","useState","active","setActive","showNavbar","setShowNavbar","hamburger","navbar","nav","navMenu","navLink","activeClassName","ProfileStatus","editMode","setEditMode","newStatus","setNewStatus","useEffect","onBlur","e","length","setTimeout","updateUserStatus","target","onChange","autoFocus","statusText","onDoubleClick","ContactsFormSocial","title","ProfileInfoFormWithRedux","contacts","loginError","infoTextarea","infoInput","Object","keys","key","ProfileBlock","profileWrapper","aboutMe","fullName","lookingForAJob","lookingForAJobDescription","Contacts","withRouter","authId","match","params","history","push","getUserStatus","background","image","profileBg","description","avatar","infoAvatar","avatarImg","large","userImg","htmlFor","fileButton","selectFile","files","editBtn","initialValues","obj","getState","stopSubmit","_error","Promise","reject","maxLength10","PostForm","memo","postValue","ref","createRef","newPosts","PostFormWithReduxForm","MyPosts","postImg","postText","Paginator","pages","pageCount","Math","ceil","i","totalPortionCount","portionNumber","setPortionNumber","leftBorderPortion","rightBorderPortion","console","log","addUsers","setCurrentPage","pagesRow","pageButton","leftArrow","rightArrow","User","age","userPhoto","small","userName","userAge","userStatus","userCountry","userCity","disabled","some","bind","followSuссess","Users","content","user","userBlockOne","userBlock","ReduxWrapperForm","loginForm","loginButton","url","Login","Profile","lazy","App","promiseRejectionEvent","promise","all","addEventListener","removeEventListener","exact","path","render","fallback","ContainerApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","max","DialogsItem","Message","ADD__MESSAGE","messageBody"],"mappings":"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","file":"static/js/main.6f4fc0a7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__12vak\",\"active\":\"Navbar_active__1xXSV\",\"navMenu\":\"Navbar_navMenu__1TJmf\",\"item\":\"Navbar_item__2aT1L\",\"navLink\":\"Navbar_navLink__2hmGx\",\"hamburger\":\"Navbar_hamburger__2pdnJ\"};","import React from 'react';\r\nimport style from './Dialogs.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addMessage} from \"../../redux/dialogsReducer\";\r\nimport cn from 'classnames';\r\nimport  {Field,reduxForm} from \"redux-form\";\r\nimport {maxLength, requiredField} from \"../../common/utilits/validators\";\r\nimport {createField, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport DialogsItem from \"./DialogsItem/DialogsItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst maxLength50 = maxLength(50);\r\n\r\nconst FormMessage = (props) => {\r\n    let {message} = useSelector(state => state.dialogs);\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={style.addMessage}>\r\n                {createField(null, 'your message', Textarea, 'textarea', [requiredField, maxLength50], {value: message, className: style.textarea})}\r\n                <div className={style.buttonWrap}>\r\n                    <button className={cn('button', style.button)}>send</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst FormMessageWithReduxForm = reduxForm({\r\n    form: 'message'\r\n})(FormMessage);\r\n\r\nconst Dialogs = (props) => {\r\n    let {messages} = useSelector(state => state.dialogs);\r\n    let {isAuth} = useSelector(state => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    if (!isAuth) return <Redirect to={'/login'}/>\r\n    const submit =(formData) => {\r\n        dispatch(addMessage(formData.textarea));\r\n    }\r\n\r\n    return (\r\n        <div className={cn('content', style.dialogsContent)}>\r\n            <div className={style.names}>\r\n                <DialogsItem name='Artem'/>\r\n                <DialogsItem name='Ludmila'/>\r\n                <DialogsItem name='Julia'/>\r\n                <DialogsItem name='Kesha'/>\r\n                <DialogsItem name='Rin'/>\r\n            </div>\r\n            <div className={style.messages}>\r\n                {messages.map((el, index) => (<Message key={el + '_' + index} text={el}/>))}\r\n                <FormMessageWithReduxForm onSubmit={submit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Dialogs;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"DialogsItem_content__1FGMu\",\"name\":\"DialogsItem_name__1oCOf\",\"message\":\"DialogsItem_message__3oZir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__aZ8UW\",\"message\":\"Message_message__1_SP_\"};","import React from 'react';\r\nimport style from './FormControls.module.css'\r\nimport cn from 'classnames';\r\nimport {Field} from \"redux-form\";\r\nimport {requiredField} from \"../utilits/validators\";\r\n\r\nexport const FormControl = ({input, meta, children, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <>\r\n            <div className={cn({[style.error]: hasError}, style.formControls)}>\r\n                {children}\r\n            </div>\r\n            {hasError && <p className={style.textError}>{meta.error}</p>}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControl className={style.formControlsInput} { ...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (type, placeholder, component, name, validate, props) => {\r\n    return <Field type={type}  placeholder={placeholder} component={component} name={name}  validate={validate} {...props}/>\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__Jj8ax\",\"userBlock\":\"Users_userBlock__3XBRv\",\"page\":\"Users_page__3fOsF\",\"active\":\"Users_active__2oskv\",\"button\":\"Users_button__1e7Sq\",\"after\":\"Users_after__5moqm\",\"content\":\"Users_content__3BOzc\"};","import * as axios from \"axios\";\r\n\r\nconst instance =\r\n    axios.create({\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n        withCredentials: true,\r\n        headers: {\r\n            'API-KEY': '993c6968-c019-47b9-9dad-e50241ca39cc'\r\n        }\r\n    });\r\n\r\nexport const userAPI = {\r\n    getUsers(portionSize, page) {\r\n        return instance.get(`users?count=${portionSize}&page=${page}`).then(responce => {\r\n            return responce.data;\r\n        });\r\n    },\r\n    setUnfollow(userId) {\r\n        return instance.delete(`follow/${userId}`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    setFollow(userId) {\r\n        return instance.post(`follow/${userId}`, {}).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`/profile/status/${userId}`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`/profile/status`, {status: status}).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    sendData(profile) {\r\n        return instance.put(`/profile`, profile).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    savePhoto(photo) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photo);\r\n        return instance.put('/profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuthData() {\r\n        return instance.get(`auth/me`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    login(email, password, rememberMe = false, captcha) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha}).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(`auth/login`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n\r\n};\r\n\r\n","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET__USERS__DATA = 'SET__USERS__DATA-auth-socialNetwork';\r\nconst SET__CAPTCHA__URL = 'SET__CAPTCHA__URL-auth-socialNetwork';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isCaptcha: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET__USERS__DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n\r\n        case SET__CAPTCHA__URL: {\r\n            return {\r\n                ...state,\r\n                isCaptcha: action.captchaUrl\r\n            }\r\n        }\r\n\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const setUsersData = (id, email, login, isAuth) => ({type: SET__USERS__DATA, data: {id, email, login, isAuth}});\r\nexport const setCaptchaUrl = (captchaUrl) => ({type: SET__CAPTCHA__URL, captchaUrl});\r\n\r\n\r\nexport const authData = () => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.getAuthData()\r\n        const {id, login, email} = data.data;\r\n        if (data.resultCode === 0) {\r\n            dispatch(setUsersData(id, email, login, true));\r\n        }\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.login(email, password, rememberMe, captcha)\r\n        if (data.resultCode === 0) {\r\n            dispatch(authData());\r\n        } else {\r\n            if (data.resultCode === 10) {\r\n                dispatch(getCaptcha());\r\n                const message = data.messages.length > 0 ? data.messages[0] : 'some Error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            } else {\r\n                const message = data.messages.length > 0 ? data.messages[0] : 'some Error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.logout()\r\n        if (data.resultCode === 0) {\r\n            dispatch(setUsersData(null, null, null, false));\r\n        }\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        let data = await securityAPI.getCaptchaUrl();\r\n        dispatch(setCaptchaUrl(data));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import {authData} from \"./authReducer\";\r\n\r\nconst INITIALIZED__SUCCESS = 'INITIALIZED__SUCCESS-app-socialNetwork';\r\nconst GLOBAL__ERROR = 'GLOBAL__ERROR-app-socialNetwork';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    error: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED__SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n\r\n        case GLOBAL__ERROR: {\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED__SUCCESS});\r\nexport const globalError = (payload) => ({type: GLOBAL__ERROR, payload});\r\n\r\nexport const initializeApp = () => {\r\n    return async (dispatch) => {\r\n        let promise = await dispatch(authData());\r\n        Promise.all([promise])\r\n        dispatch(initializedSuccess());\r\n    }\r\n}\r\n\r\nexport const getError = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(globalError(true));\r\n        setTimeout(() => { dispatch(globalError(false))}, 3000);\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer;","export default __webpack_public_path__ + \"static/media/preloader.be520562.svg\";","import React from 'react'\r\nimport preloader from \"./../../assets/img/preloader.svg\";\r\n\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div><img src={preloader} alt=\"Preloader\"/></div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import {profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {globalError} from \"./appReducer\";\r\n\r\nconst ADD__POST = 'ADD__POST-profile-socialNetwork';\r\nconst CHANGE__VALUE = 'CHANGE__VALUE-profile-socialNetwork';\r\nconst SET__USER__PROFILE = 'SET__USER__PROFILE-profile-socialNetwork';\r\nconst SET__STATUS = 'SET__STATUS-profile-socialNetwork';\r\nconst DELETE__POST = 'DELETE__POST-profile-socialNetwork';\r\nconst SAVE__PHOTO__SUCCESS = 'SAVE__PHOTO__SUCCESS-profile-socialNetwork';\r\nconst TOGGLE__LONG__STATUS = 'TOGGLE__LONG__STATUS-profile-socialNetwork';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {post: 'How, are you?', likes: 20, id: 1},\r\n        {post: 'Where are you?', likes: 20, id: 2},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n    longStatus: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD__POST: {\r\n            let postBody = {\r\n                post: action.newPost,\r\n                likes: 20,\r\n                id: 3\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, postBody],\r\n            }\r\n        }\r\n\r\n        case CHANGE__VALUE: {\r\n            return {\r\n                ...state,\r\n                newPost: action.newVal\r\n            }\r\n        }\r\n\r\n        case SET__USER__PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET__STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case DELETE__POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n\r\n        case SAVE__PHOTO__SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photo}\r\n            }\r\n        }\r\n\r\n        case TOGGLE__LONG__STATUS: {\r\n            return {\r\n                ...state,\r\n                longStatus: action.val\r\n            }\r\n        }\r\n\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPost = (newPost) => ({type: ADD__POST, newPost});\r\nexport const changeVal = (newVal) => ({type: CHANGE__VALUE, newVal});\r\nexport const setUserProfile = (profile) => ({type: SET__USER__PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET__STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE__POST, postId});\r\nexport const savePhotoSuccess = (photo) => ({type: SAVE__PHOTO__SUCCESS, photo});\r\nexport const toggleLongStatus = (val) => ({type: TOGGLE__LONG__STATUS, val});\r\n\r\nexport const getUserProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getProfile(userId)\r\n        dispatch(setUserProfile(data));\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(data));\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }else {\r\n            if(status.length > 300){\r\n                dispatch(toggleLongStatus(true));\r\n                setTimeout(() => { dispatch(toggleLongStatus(false))}, 3000);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.savePhoto(photo)\r\n        if (data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(data.data.photos));\r\n        }\r\n    }\r\n}\r\n\r\nexport const sendData = (obj) => {\r\n    return async (dispatch, getState) => {\r\n        const userId = getState().auth.id;\r\n        let data = await profileAPI.sendData(obj);\r\n        if (data.resultCode === 0) {\r\n            dispatch(getUserProfile(userId));\r\n        } else {\r\n            const message = data.messages.length > 0 ? data.messages[0] : 'some Error';\r\n            dispatch(stopSubmit('infoForm', {_error: message}));\r\n            return Promise.reject(message);\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer;","export const objectMap = (items, itemId, objPropName, newObjectProp) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjectProp}\r\n        }\r\n        return item;\r\n    });\r\n}\r\n","import {userAPI} from \"../api/api\";\r\nimport {objectMap} from \"../common/utilits/objectMap\";\r\n\r\nconst SET__CURRENT__PAGE = 'SET__CURRENT__PAGE-users-socialNetwork';\r\nconst SET__TOTAL__USERS__COUNT = 'SET__TOTAL__USERS__COUNT-users-socialNetwork';\r\nconst SET__USERS = 'SET__USERS-users-socialNetwork';\r\nconst FOLLOW = 'FOLLOW-users-socialNetwork';\r\nconst UNFOLLOW = 'UNFOLLOW-users-socialNetwork';\r\nconst SET__IS__FETCHING = 'SET__IS__FETCHING-users-socialNetwork';\r\nconst TOGGLE__FOLLOWING__PROCESS = 'TOGGLE__FOLLOWING__PROCESS-users-socialNetwork';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    portionSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollowing: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET__USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n\r\n        case SET__IS__FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload\r\n            }\r\n        }\r\n\r\n        case SET__CURRENT__PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n\r\n        case SET__TOTAL__USERS__COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            }\r\n        }\r\n\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users:\r\n                    objectMap(state.users, action.id, 'id', {followed: true})\r\n            }\r\n        }\r\n\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: objectMap(state.users, action.id, 'id', {followed: false})\r\n            }\r\n        }\r\n\r\n        case TOGGLE__FOLLOWING__PROCESS: {\r\n            return {\r\n                ...state,\r\n                isFollowing: action.isFetching ? [...state.isFollowing, action.id] :\r\n                    state.isFollowing.filter(id => action.id != id)\r\n            }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET__CURRENT__PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET__TOTAL__USERS__COUNT, totalCount});\r\nexport const setUsers = (users) => ({type: SET__USERS, users});\r\nexport const follow = (id) => ({type: FOLLOW, id});\r\nexport const unfollow = (id) => ({type: UNFOLLOW, id});\r\nexport const setIsFetching = (payload) => ({type: SET__IS__FETCHING, payload});\r\nexport const toggleFollowingProcess = (isFetching, id) => ({type: TOGGLE__FOLLOWING__PROCESS, isFetching, id});\r\n\r\n\r\nexport const getUsers = (portionSize, currentPage) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        let data = await userAPI.getUsers(portionSize, currentPage)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(setIsFetching(false));\r\n    }\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, apiData, action, userId) => {\r\n    dispatch(toggleFollowingProcess(true, userId));\r\n    let data = await apiData(userId);\r\n    if (data.resultCode == 0) {\r\n        dispatch(action(userId))\r\n    }\r\n    dispatch(toggleFollowingProcess(false, userId));\r\n}\r\n\r\n\r\nexport const unFollowSuссess = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiData = userAPI.setUnfollow.bind(userId);\r\n        let action = unfollow;\r\n\r\n        followUnfollowFlow(dispatch, apiData, action, userId);\r\n    }\r\n}\r\n\r\nexport const followSuссess = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiData = userAPI.setFollow.bind(userId);\r\n        let action = follow;\r\n        followUnfollowFlow(dispatch, apiData, action, userId);\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import {createStore, combineReducers, compose, applyMiddleware} from 'redux';\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers ({\r\n    profile: profileReducer,\r\n    dialogs: dialogsReducer,\r\n    users: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n\r\nwindow.store = store;\r\n\r\n\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport cn from 'classnames';\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\n\r\nconst Header = () => {\r\n    const {id, email, login, isAuth} = useSelector(state => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const sendLogout = () => {\r\n        dispatch(logout());\r\n    }\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <div className={style.loginWrap}>\r\n                {isAuth && <button className={cn(style.buttonLogout, 'button')} onClick={sendLogout}>logout</button>}\r\n                <div className={style.login}>\r\n                    <NavLink to={'/login'}>{isAuth ? login : 'Login'}</NavLink>\r\n                </div>\r\n            </div>\r\n            <h2 className={style.logo}><span>Social</span>Net</h2>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport style from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport cn from 'classnames';\r\n\r\nconst Navbar = () => {\r\n    const [active, setActive] = React.useState(false);\r\n    const [showNavbar, setShowNavbar] = React.useState(false);\r\n\r\n    const toggleActive = () => {\r\n        setActive(!active);\r\n        setShowNavbar(!showNavbar);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={cn({[style.active]: active}, style.hamburger)} onClick={toggleActive}>\r\n                 <span></span>\r\n             </div>\r\n            <div className={cn({[style.active]: active}, style.navbar)}>\r\n\r\n                <nav className={style.nav}>\r\n                    <ul className={style.navMenu}>\r\n                        <li className={style.item} ><NavLink className={style.navLink} activeClassName={style.active}\r\n                                                                           to=\"/profile\">Profile</NavLink></li>\r\n                        <li className={style.item}><NavLink className={style.navLink} activeClassName={style.active} to=\"/dialogs\">Messages</NavLink></li>\r\n                        <li className={style.item}><NavLink className={style.navLink} activeClassName={style.active} to=\"/users\">Users</NavLink></li>\r\n                        <li className={style.item}><NavLink className={style.navLink} activeClassName={style.active} to=\"/login\">Login</NavLink></li>\r\n                        <li className={style.item}><NavLink className={style.navLink} activeClassName={style.active} to=\"/news\">News</NavLink></li>\r\n                        <li className={style.item}><NavLink className={style.navLink} activeClassName={style.active} to=\"/music\">Music</NavLink></li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navbar;","export default __webpack_public_path__ + \"static/media/header_images.86c54659.jpg\";","export default __webpack_public_path__ + \"static/media/userAvatar.e502ba51.png\";","import React, {useEffect, useState} from 'react';\r\nimport style from './Profile.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {updateUserStatus} from \"../../redux/profileReducer\";\r\n\r\nconst ProfileStatus = ({status}) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [newStatus, setNewStatus] = useState(status);\r\n    const {userId} = useSelector(state => state.profile.profile);\r\n    const {id} = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n        setNewStatus(status)\r\n    }, [status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = (e) => {\r\n        setEditMode(false);\r\n        if (userId === id) {\r\n            dispatch(updateUserStatus(e.target.value));\r\n        }\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onChangeStatus = (e) => {\r\n        let status = e.target.value;\r\n        setNewStatus(status);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <b>Status: </b>\r\n            {editMode && <div className={style.input} onBlur={deactivateEditMode} onChange={onChangeStatus}>\r\n                <input type=\"text\" value={newStatus} autoFocus={true}/>\r\n            </div>}\r\n            {!editMode &&\r\n            <span className={style.statusText} onDoubleClick={activateEditMode}>{status || '-----'}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import React  from 'react';\r\nimport style from './Profile.module.css';\r\nimport {createField, Input, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst ProfileInfoForm = ({handleSubmit, error}) => {\r\n    const {contacts} = useSelector(state => state.profile.profile)\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {error && <div className={style.loginError}>\r\n                {error}\r\n            </div>}\r\n            <div><b>aboutMe: </b></div>\r\n            <div>{createField('text', 'aboutMe', Textarea, 'aboutMe', null, {className: style.infoTextarea})}</div>\r\n            <div><b>fullName: </b></div>\r\n            <div>{createField('text', 'fullName', Input, 'fullName', null, {className: style.infoInput})}</div>\r\n            <div><b>lookingForAJob: </b></div>\r\n            <div>{createField('checkbox', null, 'input', 'lookingForAJob', null, {className: style.infoInput})}</div>\r\n            <div><b>lookingForAJobDescription: </b></div>\r\n            <div>{createField('text', 'description', Textarea, 'lookingForAJobDescription', null, {className: style.infoTextarea})}</div>\r\n            {Object.keys(contacts).map(key => <ContactsFormSocial key={key} title={key} value={createField('text', key, Input, 'contacts.' + key, null, {className: style.infoInput})}/>) }\r\n            <button className='button' type={\"submit\"}>save</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ContactsFormSocial = ({title, value}) => {\r\n    return (\r\n        <div><b>{title}:</b> {value}</div>\r\n    )\r\n}\r\n\r\n\r\nconst ProfileInfoFormWithRedux = reduxForm({\r\n    form: 'infoForm'\r\n})(ProfileInfoForm);\r\n\r\n\r\nexport default ProfileInfoFormWithRedux;","import React, {useEffect, useState} from 'react';\r\nimport style from './Profile.module.css';\r\nimport profileBg from '../../assets/img/header_images.jpg';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, savePhoto, sendData} from \"../../redux/profileReducer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport userImg from '../../assets/img/userAvatar.png';\r\nimport {Redirect} from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport {compose} from 'redux';\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileInfoFormWithRedux from \"./ProfileInfoForm\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    const {profile, status} = useSelector(state => state.profile);\r\n    const {isAuth} = useSelector(state => state.auth);\r\n    const authId = useSelector(state => state.auth.id);\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const addEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    let userId = props.match.params.userId;\r\n    if (!userId) {\r\n        userId = authId;\r\n        if (!userId) {\r\n            props.history.push('/login');\r\n        }\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const getPhoto = (e) => {\r\n        dispatch(savePhoto(e.target.files[0]));\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        dispatch(sendData(formData)).then(\r\n            () => {\r\n                setEditMode(false);\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(getUserProfile(userId));\r\n        dispatch(getUserStatus(userId));\r\n    }, [status, userId]);\r\n\r\n    if (!isAuth) return <Redirect to={'/login'}/>\r\n\r\n    {\r\n        if (!profile) {\r\n            return <Preloader/>\r\n        } else {\r\n\r\n            return (\r\n                <>\r\n                    <div className={style.background}>\r\n                        <img className={style.image} src={profileBg} alt=\"Phone\"/>\r\n                    </div>\r\n\r\n                    <div className={style.description}>\r\n                        <div className={cn(style.avatar, style.infoAvatar)}>\r\n                            <img className={style.avatarImg}\r\n                                 src={!profile.photos.large ? userImg : profile.photos.large} alt=\"Avatar\"/>\r\n                            {!props.match.params.userId &&\r\n                            <label htmlFor=\"file\" className={cn(style.fileButton, 'button')}>select photo<input\r\n                                className={style.selectFile} id='file' type=\"file\" onChange={getPhoto}/></label>}\r\n                        </div>\r\n                        {!editMode && !props.match.params.userId &&\r\n                        <button className={cn('button', style.editBtn)} onClick={addEditMode}>edit</button>}\r\n                        <ProfileStatus status={status}/>\r\n                        {editMode ? <ProfileInfoFormWithRedux initialValues={profile} onSubmit={onSubmit}/> :\r\n                            <ProfileBlock profile={profile}/>}\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst ProfileBlock = ({profile}) => {\r\n    return (\r\n        <div className={style.profileWrapper}>\r\n            <div><b>aboutMe: </b>{profile.aboutMe}</div>\r\n            <div><b>fullName: </b>{profile.fullName}</div>\r\n            <div><b>lookingForAJob: </b>{profile.lookingForAJob ? 'yes' : 'no'}</div>\r\n            <div><b>lookingForAJobDescription: </b>{profile.lookingForAJobDescription}</div>\r\n            {Object.keys(profile.contacts).map(key => <Contacts key={key} title={key} value={profile.contacts[key]}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst Contacts = ({title, value}) => {\r\n    return (\r\n        <div><b>{title}:</b> {value}</div>\r\n    )\r\n}\r\n\r\n\r\nexport default compose(\r\n    withRouter\r\n)(ProfileInfo);\r\n","export default __webpack_public_path__ + \"static/media/anonymous_steam_avatars-1-1.a585a8f0.jpg\";","import React, {createRef} from 'react';\r\nimport style from './Profile.module.css';\r\nimport avatar from '../../assets/img/anonymous_steam_avatars-1-1.jpg';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addPost} from \"../../redux/profileReducer\";\r\nimport cn from \"classnames\";\r\nimport  {reduxForm} from \"redux-form\";\r\nimport {maxLength, requiredField} from \"../../common/utilits/validators\";\r\nimport {createField, Textarea} from \"../../common/FormControls/FormControls\";\r\nconst maxLength10 = maxLength(10);\r\n\r\nconst PostForm = React.memo((props) => {\r\n    const postValue = useSelector(state => state.profile.newPost);\r\n\r\n    const ref = createRef();\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={style.newPosts}>\r\n                {createField(null, 'your news', Textarea, 'textarea', [requiredField, maxLength10], {value: postValue, className: style.textarea, ref: ref})}\r\n            </div>\r\n            <div className={style.buttonWrap}>\r\n                <button className={cn('button', style.button)}>send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n});\r\n\r\nconst PostFormWithReduxForm = reduxForm({\r\n    form: 'posts'\r\n})(PostForm)\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    const posts = useSelector(state => state.profile.posts);\r\n    const dispatch = useDispatch();\r\n    const postSubmit = (formData) => {\r\n        dispatch(addPost(formData.textarea));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={style.posts}>\r\n                <h2>My posts</h2>\r\n                <PostFormWithReduxForm onSubmit={postSubmit}/>\r\n                {posts.map((obj, index) => ( <div key={index + '_'+ obj.id} className={style.post}>\r\n                    <div className={style.postImg}>\r\n                        <img src={avatar} alt=\"Аватарка\"/>\r\n                    </div>\r\n                    <span className={style.postText}>{obj.post}</span>\r\n                    <span className={style.likes}>Likes: {obj.likes}</span>\r\n                </div>))}\r\n            </div>\r\n        </>\r\n    )\r\n});\r\n\r\nexport default MyPosts;","export default __webpack_public_path__ + \"static/media/arrowRight.e9940b74.svg\";","export default __webpack_public_path__ + \"static/media/arrowLeft.e204da84.svg\";","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport style from \"./Paginator.module.css\";\r\nimport rightArrow from \"../../assets/img/arrowRight.svg\"\r\nimport leftArrow from \"../../assets/img/arrowLeft.svg\"\r\n\r\nimport {\r\n    getUsers,\r\n    setCurrentPage,\r\n}\r\n    from \"../../redux/usersReducer\";\r\nimport cn from \"classnames\";\r\n\r\n\r\nconst Paginator = (props) => {\r\n    const {portionSize, totalUsersCount, currentPage} = useSelector(state => state.users);\r\n    const dispatch = useDispatch();\r\n\r\n    let pages = [];\r\n    let pageCount = Math.ceil(totalUsersCount / portionSize);\r\n\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = 10;\r\n\r\n    const totalPortionCount = pageCount / portionCount;\r\n    const [portionNumber, setPortionNumber] = useState(Math.ceil(currentPage/10));\r\n    const leftBorderPortion = (portionNumber - 1) * portionCount + 1;\r\n    const rightBorderPortion = (portionNumber * portionCount);\r\n    console.log(portionNumber);\r\n\r\n\r\n    const addUsers = (page) => {\r\n        dispatch(getUsers(portionSize, page));\r\n        dispatch(setCurrentPage(page));\r\n    }\r\n\r\n    return (\r\n        <div className={style.pagesRow}>\r\n            {portionNumber > 1 && <button className={style.pageButton} onClick={() => setPortionNumber(portionNumber -1)}>\r\n                <img src={leftArrow} alt=\"\"/></button>}\r\n            <div className={style.pages}>\r\n                {pages.filter(page => page >= leftBorderPortion && page <= rightBorderPortion).map((p, index) => <span\r\n                    onClick={() => addUsers(p)} key={p + '_' + index}\r\n                    className={cn({[style.active]: p === currentPage}, style.page)}>{p}</span>)}\r\n            </div>\r\n            {totalPortionCount > portionNumber && <button className={style.pageButton} onClick={() => setPortionNumber(portionNumber +1)}><img src={rightArrow} alt=\"\"/></button>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport style from './Users.module.css';\r\nimport userImg from '../../assets/img/userAvatar.png';\r\nimport {NavLink} from 'react-router-dom'\r\nimport {followSuссess, toggleFollowingProcess, unFollowSuссess} from \"../../redux/usersReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport cn from \"classnames\";\r\n\r\n\r\nconst User = ({name, age, status, photos, id, followed, isFollowing}) => {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <NavLink to={'/profile/' + id}>\r\n                <div className={style.userPhoto}><img\r\n                    src={photos.small !== null ? photos.small : userImg}\r\n                    alt=\"Аватар\"/></div>\r\n            </NavLink>\r\n            <div className={style.userName}>{name}</div>\r\n            <div className={style.userAge}>{age}</div>\r\n            <div className={style.userStatus}>{status}</div>\r\n            <div className={style.userCountry}>{'user.location.country'}</div>\r\n            <div className={style.userCity}>{'user.location.city'}</div>\r\n            <button className={cn('button', style.button)}\r\n                    disabled={isFollowing.some(userId => userId === id)}\r\n                    onClick={() => {\r\n                        dispatch(toggleFollowingProcess(true, id));\r\n                        followed ?\r\n                            dispatch(unFollowSuссess(id))\r\n                            :\r\n                            dispatch(followSuссess(id))\r\n                    }\r\n\r\n                    }>{followed ? 'follow' : 'unfollow'}\r\n            </button>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default User;","import React, {useEffect} from 'react';\r\nimport style from './Users.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getUsers\r\n}\r\n    from \"../../redux/usersReducer\";\r\nimport cn from \"classnames\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = (props) => {\r\n    const {users, portionSize, totalUsersCount, currentPage, isFetching, isFollowing} = useSelector(state => state.users);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers(portionSize, currentPage));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {isFetching ? <Preloader/>\r\n                : <div className={cn('content', style.content)}>\r\n                    <Paginator totalUsersCount={totalUsersCount}/>\r\n                    {users.map((user, index) =>\r\n                        <div key={user.id} className={cn({[style.userBlockOne]: user.id === 1}, style.userBlock)}>\r\n                            <User {...user} isFollowing={isFollowing}/>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport style from './Login.module.css';\r\nimport {requiredField} from \"../../common/utilits/validators\";\r\nimport {createField, Input} from \"../../common/FormControls/FormControls\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst LoginForm = (props) => {\r\n    const {isCaptcha} = useSelector(state => state.auth);\r\n    console.log(isCaptcha);\r\n    return (\r\n        <>\r\n            <form onSubmit={props.handleSubmit} className={style.loginForm}>\r\n                <div className='formInput'>{createField('text', 'Login', Input, 'email', requiredField)}</div>\r\n                <div className='formInput'>{createField('password', 'Password', Input, 'password', requiredField)}</div>\r\n                <div>{createField('checkbox', null, 'input', 'rememberMe', null, {className: 'formCheckbox'})}</div>\r\n                <div><button className={'button' + ' ' + style.loginButton}>Login</button></div>\r\n                {isCaptcha && <img src={isCaptcha.url} alt=\"\"/>}\r\n                {isCaptcha &&  <div className='formInput'>{createField('text', 'antibotSimbols', Input, 'captcha', requiredField)}</div>}\r\n                {props.error && <div className={style.loginError}>\r\n                    {props.error}\r\n                </div>}\r\n\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst ReduxWrapperForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const {isAuth} = useSelector(state => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (formData) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha));\r\n        console.log(formData);\r\n    }\r\n\r\n\r\n    if(isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <ReduxWrapperForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {MyPosts} from \"../index\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className='content'>\r\n           <ProfileInfo />\r\n           <MyPosts />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, {Suspense} from 'react'\nimport './App.css';\nimport {Switch, Route} from 'react-router-dom';\nimport {useEffect} from \"react\";\nimport {Provider, useDispatch, useSelector} from \"react-redux\";\nimport {getError, initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport store from \"./redux/store\";\nimport {HashRouter, Redirect,} from 'react-router-dom';\nimport Header from \"./components/Header/Header\";\nimport Profile from \"./components/Profile/Profile\";\nimport Users from \"./components/Users/Users\";\nimport Login from \"./components/Login/Login\";\nimport Navbar from \"./components/Navbar/Navbar\";\n\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\n\nconst App = (props) => {\n    const dispatch = useDispatch();\n    const {initialized} = useSelector(state => state.app);\n    const {error} = useSelector(state => state.app);\n    const {longStatus} = useSelector(state => state.profile);\n\n    const promiseRejectionEvent = () => {\n        dispatch(getError());\n    }\n\n    useEffect(() => {\n            dispatch(initializeApp());\n            window.addEventListener(\"unhandledrejection\", promiseRejectionEvent);\n            return () => {\n                window.removeEventListener(\"unhandledrejection\", promiseRejectionEvent);\n            }\n        },\n\n        []);\n\n    if (!initialized) {\n        return <Preloader/>\n    }\n\n    return (\n        <div className=\"appWrapper\">\n            <div className=\"container\">\n                {error && <div className='errorMessage'>SOMTHING WRONG</div>}\n                {longStatus && <div className='errorMessage statusMessage'>STATUS SHOULD BE MORE THEN 300 SYMBOLS</div>}\n                <Header/>\n                <Navbar/>\n                <Switch>\n                    <Route exact path='/' render={() => <Redirect to='/profile'/>}/>\n                    <Route path='/profile/:userId?' component={Profile}/>\n                    <Route path='/dialogs' render={() =>\n                        <Suspense fallback={<div>Loading...</div>}>\n                            <Dialogs/>\n                        </Suspense>\n\n                    }/>\n                    <Route path='/users' component={Users}/>\n                    <Route path='/login' component={Login}/>\n                    <Route path='*' render={() => <div>404 PAGE NOT FOUND</div>}/>\n                </Switch>\n            </div>\n        </div>\n    );\n}\n\nconst ContainerApp = (props) => {\n    return <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default ContainerApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ContainerApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n    <ContainerApp/>, document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const requiredField =  value => {\r\n    if (!value) {\r\n        return 'Field is required'\r\n    }\r\n    return undefined\r\n}\r\n\r\nexport const maxLength = max => value => {\r\n    if (value.length > max) {\r\n        return `Must be ${max} characters or less`;\r\n    }\r\n    return undefined\r\n}\r\n","import React from 'react';\r\nimport style from './DialogsItem.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nconst DialogsItem = ({name, id}) => {\r\n    return (\r\n        <div className={style.name}><NavLink to={'/dialogs/' + id}>{name}</NavLink></div>\r\n    )\r\n}\r\n\r\nexport default DialogsItem;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsContent\":\"Dialogs_dialogsContent__1gCTC\",\"name\":\"Dialogs_name__2pmV9\",\"message\":\"Dialogs_message__1KQkI\",\"addMessage\":\"Dialogs_addMessage__2xR0I\",\"textarea\":\"Dialogs_textarea__3OD2t\",\"buttonWrap\":\"Dialogs_buttonWrap__2n4UF\",\"button\":\"Dialogs_button__1TNqY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagesRow\":\"Paginator_pagesRow__3rvQC\",\"pages\":\"Paginator_pages__1UJwc\",\"active\":\"Paginator_active__1N0uD\",\"pageButton\":\"Paginator_pageButton__1N6W3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Looy\",\"logo\":\"Header_logo__2hINE\",\"login\":\"Header_login__1q58M\",\"buttonLogout\":\"Header_buttonLogout__25pn8\",\"hamburger\":\"Header_hamburger__2y2Bz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControlsInput\":\"FormControls_formControlsInput__3olgA\",\"formControls\":\"FormControls_formControls__3sadh\",\"error\":\"FormControls_error__HuO_3\",\"textError\":\"FormControls_textError__aWBX0\"};","import React from 'react';\r\nimport style from './Message.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Message = ({text}) => {\r\n    return (\r\n            <div className={style.message}><span>{text}</span></div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Message;","const ADD__MESSAGE = 'ADD__MESSAGE-dialogs-socialNetwork';\r\n\r\nlet initialState = {\r\n    messages: ['hello', 'How, are you!', 'Hi', 'My name is Kesha!', 'I`m a cat'],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD__MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.messageBody],\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const addMessage = (messageBody) => ({type: ADD__MESSAGE, messageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Login_loginForm__30Zhe\",\"loginButton\":\"Login_loginButton__3sDbF\",\"loginError\":\"Login_loginError__2P-JV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Profile_background__R8bc4\",\"image\":\"Profile_image__22AcV\",\"description\":\"Profile_description__82lQl\",\"avatar\":\"Profile_avatar__Bq5Q_\",\"infoAvatar\":\"Profile_infoAvatar__1nGVF\",\"descriptionBlock\":\"Profile_descriptionBlock__1K_Zd\",\"avatarImg\":\"Profile_avatarImg__3-K_T\",\"textarea\":\"Profile_textarea__3_qSW\",\"posts\":\"Profile_posts__1UofP\",\"buttonWrap\":\"Profile_buttonWrap__2CgVb\",\"post\":\"Profile_post__2rljv\",\"postImg\":\"Profile_postImg__2YA38\",\"postText\":\"Profile_postText__1GhrE\",\"likes\":\"Profile_likes__1kVWH\",\"statusText\":\"Profile_statusText__PWwPg\",\"selectFile\":\"Profile_selectFile__zwxf-\",\"fileButton\":\"Profile_fileButton__2N7SS\",\"editBtn\":\"Profile_editBtn__83NIy\",\"infoInput\":\"Profile_infoInput__1tlhi\",\"infoTextarea\":\"Profile_infoTextarea__3p-Fh\",\"loginError\":\"Profile_loginError__19BzU\",\"content\":\"Profile_content__1E9rW\",\"button\":\"Profile_button__dncc8\",\"profileWrapper\":\"Profile_profileWrapper__3F66X\"};"],"sourceRoot":""}