(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{12:function(e,t,n){e.exports={navbar:"Navbar_navbar__12vak",active:"Navbar_active__1xXSV",navMenu:"Navbar_navMenu__1TJmf",item:"Navbar_item__2aT1L",navLink:"Navbar_navLink__2hmGx",hamburger:"Navbar_hamburger__2pdnJ"}},130:function(e,t,n){"use strict";n.r(t);var a=n(0),r=(n(1),n(38)),c=n.n(r),s=n(6),o=n(72),i=n(15),u=n.n(i),l=n(95),j=n(29),b=n(14),d=n(37),f=n(70),O=n(16),p=Object(j.a)(50),m=Object(l.a)({form:"message"})((function(e){var t=Object(s.d)((function(e){return e.dialogs})).message;return Object(a.jsx)("form",{onSubmit:e.handleSubmit,children:Object(a.jsxs)("div",{className:c.a.addMessage,children:[Object(b.c)(null,"your message",b.b,"textarea",[j.b,p],{value:t,className:c.a.textarea}),Object(a.jsx)("div",{className:c.a.buttonWrap,children:Object(a.jsx)("button",{className:u()("button",c.a.button),children:"send"})})]})})}));t.default=function(e){var t=Object(s.d)((function(e){return e.dialogs})).messages,n=Object(s.d)((function(e){return e.auth})).isAuth,r=Object(s.c)();if(!n)return Object(a.jsx)(O.a,{to:"/login"});return Object(a.jsxs)("div",{className:u()("content",c.a.dialogsContent),children:[Object(a.jsxs)("div",{className:c.a.names,children:[Object(a.jsx)(d.a,{name:"Artem"}),Object(a.jsx)(d.a,{name:"Ludmila"}),Object(a.jsx)(d.a,{name:"Julia"}),Object(a.jsx)(d.a,{name:"Kesha"}),Object(a.jsx)(d.a,{name:"Rin"})]}),Object(a.jsxs)("div",{className:c.a.messages,children:[t.map((function(e,t){return Object(a.jsx)(f.a,{text:e},e+"_"+t)})),Object(a.jsx)(m,{onSubmit:function(e){r(Object(o.a)(e.textarea))}})]})]})}},136:function(e,t,n){e.exports={content:"DialogsItem_content__1FGMu",name:"DialogsItem_name__1oCOf",message:"DialogsItem_message__3oZir"}},137:function(e,t,n){e.exports={messages:"Message_messages__aZ8UW",message:"Message_message__1_SP_"}},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O}));var a=n(3),r=n(27),c=n(76),s=n(0),o=(n(1),n(59)),i=n.n(o),u=n(15),l=n.n(u),j=n(94),b=(n(29),function(e){e.input;var t=e.meta,n=e.children,a=(Object(c.a)(e,["input","meta","children"]),t.touched&&t.error);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:l()(Object(r.a)({},i.a.error,a),i.a.formControls),children:n}),a&&Object(s.jsx)("p",{className:i.a.textError,children:t.error})]})}),d=function(e){var t=e.input,n=(e.meta,e.children,Object(c.a)(e,["input","meta","children"]));return Object(s.jsx)(b,Object(a.a)(Object(a.a)({},e),{},{children:Object(s.jsx)("textarea",Object(a.a)(Object(a.a)({},t),n))}))},f=function(e){var t=e.input,n=(e.meta,e.children,Object(c.a)(e,["input","meta","children"]));return Object(s.jsx)(b,Object(a.a)(Object(a.a)({className:i.a.formControlsInput},e),{},{children:Object(s.jsx)("input",Object(a.a)(Object(a.a)({},t),n))}))},O=function(e,t,n,r,c,o){return Object(s.jsx)(j.a,Object(a.a)({type:e,placeholder:t,component:n,name:r,validate:c},o))}},168:function(e,t,n){},169:function(e,t,n){},24:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__Jj8ax",userBlock:"Users_userBlock__3XBRv",page:"Users_page__3fOsF",active:"Users_active__2oskv",button:"Users_button__1e7Sq",after:"Users_after__5moqm",content:"Users_content__3BOzc"}},289:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(68),o=n.n(s),i=(n(168),n(169),n(16)),u=n(6),l=n(8),j=n.n(l),b=n(18),d=n(3),f=n(133).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"993c6968-c019-47b9-9dad-e50241ca39cc"}}),O={getUsers:function(e,t){return f.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},setUnfollow:function(e){return f.delete("follow/".concat(e)).then((function(e){return e.data}))},setFollow:function(e){return f.post("follow/".concat(e),{}).then((function(e){return e.data}))}},p=function(e){return f.get("profile/".concat(e)).then((function(e){return e.data}))},m=function(e){return f.get("/profile/status/".concat(e)).then((function(e){return e.data}))},h=function(e){return f.put("/profile/status",{status:e}).then((function(e){return e.data}))},_=function(e){return f.put("/profile",e).then((function(e){return e.data}))},x=function(e){var t=new FormData;return t.append("image",e),f.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},v=function(){return f.get("auth/me").then((function(e){return e.data}))},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return f.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},N=function(){return f.delete("auth/login").then((function(e){return e.data}))},w=function(){return f.get("security/get-captcha-url").then((function(e){return e.data}))},k=n(26),S="SET__USERS__DATA-auth-socialNetwork",C="SET__CAPTCHA__URL-auth-socialNetwork",y={id:null,email:null,login:null,isAuth:!1,isCaptcha:null},P=function(e,t,n,a){return{type:S,data:{id:e,email:t,login:n,isAuth:a}}},E=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:n=e.sent,a=n.data,r=a.id,c=a.login,s=a.email,0===n.resultCode&&t(P(r,s,c,!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:n=e.sent,t({type:C,captchaUrl:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(d.a)(Object(d.a)({},e),t.data);case C:return Object(d.a)(Object(d.a)({},e),{},{isCaptcha:t.captchaUrl});default:return e}},L="INITIALIZED__SUCCESS-app-socialNetwork",I="GLOBAL__ERROR-app-socialNetwork",A={initialized:!1,error:!1},U=function(e){return{type:I,payload:e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});case I:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});default:return e}},M=n.p+"static/media/preloader.be520562.svg",D=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:M,alt:"Preloader"})})},R=n(13),W=n(48),G="ADD__POST-profile-socialNetwork",H="CHANGE__VALUE-profile-socialNetwork",J="SET__USER__PROFILE-profile-socialNetwork",V="SET__STATUS-profile-socialNetwork",z="DELETE__POST-profile-socialNetwork",q="SAVE__PHOTO__SUCCESS-profile-socialNetwork",K="TOGGLE__LONG__STATUS-profile-socialNetwork",X={posts:[{post:"How, are you?",likes:20,id:1},{post:"Where are you?",likes:20,id:2}],profile:null,status:"",longStatus:!1},Z=function(e){return{type:V,status:e}},Q=function(e){return{type:q,photo:e}},Y=function(e){return{type:K,val:e}},$=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:a=t.sent,n({type:J,profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:var n={post:t.newPost,likes:20,id:3};return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(W.a)(e.posts),[n])});case H:return Object(d.a)(Object(d.a)({},e),{},{newPost:t.newVal});case J:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case V:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case z:return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case q:return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photo})});case K:return Object(d.a)(Object(d.a)({},e),{},{longStatus:t.val});default:return e}},te=n(72),ne=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(d.a)(Object(d.a)({},e),a):e}))},ae="SET__CURRENT__PAGE-users-socialNetwork",re="SET__TOTAL__USERS__COUNT-users-socialNetwork",ce="SET__USERS-users-socialNetwork",se="FOLLOW-users-socialNetwork",oe="UNFOLLOW-users-socialNetwork",ie="SET__IS__FETCHING-users-socialNetwork",ue="TOGGLE__FOLLOWING__PROCESS-users-socialNetwork",le={users:[],portionSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,isFollowing:[]},je=function(e){return{type:se,id:e}},be=function(e){return{type:oe,id:e}},de=function(e){return{type:ie,payload:e}},fe=function(e,t){return{type:ue,isFetching:e,id:t}},Oe=function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(de(!0)),n.next=3,O.getUsers(e,t);case 3:r=n.sent,a((s=r.items,{type:ce,users:s})),a((c=r.totalCount,{type:re,totalCount:c})),a(de(!1));case 7:case"end":return n.stop()}var c,s}),n)})));return function(e){return n.apply(this,arguments)}}()},pe=function(){var e=Object(b.a)(j.a.mark((function e(t,n,a,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(fe(!0,r)),e.next=3,n(r);case 3:0==e.sent.resultCode&&t(a(r)),t(fe(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case ie:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.payload});case ae:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case re:return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.totalCount});case se:return Object(d.a)(Object(d.a)({},e),{},{users:ne(e.users,t.id,"id",{followed:!0})});case oe:return Object(d.a)(Object(d.a)({},e),{},{users:ne(e.users,t.id,"id",{followed:!1})});case ue:return Object(d.a)(Object(d.a)({},e),{},{isFollowing:t.isFetching?[].concat(Object(W.a)(e.isFollowing),[t.id]):e.isFollowing.filter((function(e){return t.id!=e}))});default:return e}},he=n(134),_e=n(131),xe=Object(R.c)({profile:ee,dialogs:te.b,users:me,auth:T,form:_e.a,app:B}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,ge=Object(R.e)(xe,ve(Object(R.a)(he.a)));window.store=ge;var Ne=ge,we=n(17),ke=n(49),Se=n.n(ke),Ce=n(15),ye=n.n(Ce),Pe=function(){var e=Object(u.d)((function(e){return e.auth})),t=(e.id,e.email,e.login),n=e.isAuth,r=Object(u.c)();return Object(a.jsxs)("header",{className:Se.a.header,children:[Object(a.jsxs)("div",{className:Se.a.loginWrap,children:[n&&Object(a.jsx)("button",{className:ye()(Se.a.buttonLogout,"button"),onClick:function(){r(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:0===e.sent.resultCode&&t(P(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"logout"}),Object(a.jsx)("div",{className:Se.a.login,children:Object(a.jsx)(we.b,{to:"/login",children:n?t:"Login"})})]}),Object(a.jsxs)("h2",{className:Se.a.logo,children:[Object(a.jsx)("span",{children:"Social"}),"Net"]})]})},Ee=n(27),Fe=n(32),Te=n(12),Le=n.n(Te),Ie=function(){var e=c.a.useState(!1),t=Object(Fe.a)(e,2),n=t[0],r=t[1],s=c.a.useState(!1),o=Object(Fe.a)(s,2),i=o[0],u=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:ye()(Object(Ee.a)({},Le.a.active,n),Le.a.hamburger),onClick:function(){r(!n),u(!i)},children:Object(a.jsx)("span",{})}),Object(a.jsx)("div",{className:ye()(Object(Ee.a)({},Le.a.active,n),Le.a.navbar),children:Object(a.jsx)("nav",{className:Le.a.nav,children:Object(a.jsxs)("ul",{className:Le.a.navMenu,children:[Object(a.jsx)("li",{className:Le.a.item,children:Object(a.jsx)(we.b,{className:Le.a.navLink,activeClassName:Le.a.active,to:"/profile",children:"Profile"})}),Object(a.jsx)("li",{className:Le.a.item,children:Object(a.jsx)(we.b,{className:Le.a.navLink,activeClassName:Le.a.active,to:"/dialogs",children:"Messages"})}),Object(a.jsx)("li",{className:Le.a.item,children:Object(a.jsx)(we.b,{className:Le.a.navLink,activeClassName:Le.a.active,to:"/users",children:"Users"})}),Object(a.jsx)("li",{className:Le.a.item,children:Object(a.jsx)(we.b,{className:Le.a.navLink,activeClassName:Le.a.active,to:"/login",children:"Login"})}),Object(a.jsx)("li",{className:Le.a.item,children:Object(a.jsx)(we.b,{className:Le.a.navLink,activeClassName:Le.a.active,to:"/news",children:"News"})}),Object(a.jsx)("li",{className:Le.a.item,children:Object(a.jsx)(we.b,{className:Le.a.navLink,activeClassName:Le.a.active,to:"/music",children:"Music"})})]})})})]})},Ae=n(9),Ue=n.n(Ae),Be=n.p+"static/media/header_images.86c54659.jpg",Me=n.p+"static/media/userAvatar.e502ba51.png",De=function(e){var t=e.status,n=Object(r.useState)(!1),c=Object(Fe.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(t),l=Object(Fe.a)(i,2),d=l[0],f=l[1],O=Object(u.d)((function(e){return e.profile.profile})).userId,p=Object(u.d)((function(e){return e.auth})).id;Object(r.useEffect)((function(){f(t)}),[t]);var m=Object(u.c)();return Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Status: "}),s&&Object(a.jsx)("div",{className:Ue.a.input,onBlur:function(e){o(!1),O===p&&m(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:0===t.sent.resultCode?n(Z(e)):e.length>300&&(n(Y(!0)),setTimeout((function(){n(Y(!1))}),3e3));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e.target.value))},onChange:function(e){var t=e.target.value;f(t)},children:Object(a.jsx)("input",{type:"text",value:d,autoFocus:!0})}),!s&&Object(a.jsx)("span",{className:Ue.a.statusText,onDoubleClick:function(){o(!0)},children:t||"-----"})]})},Re=n(14),We=n(95),Ge=function(e){var t=e.title,n=e.value;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[t,":"]})," ",n]})},He=Object(We.a)({form:"infoForm"})((function(e){var t=e.handleSubmit,n=e.error,r=Object(u.d)((function(e){return e.profile.profile})).contacts;return Object(a.jsxs)("form",{onSubmit:t,children:[n&&Object(a.jsx)("div",{className:Ue.a.loginError,children:n}),Object(a.jsx)("div",{children:Object(a.jsx)("b",{children:"aboutMe: "})}),Object(a.jsx)("div",{children:Object(Re.c)("text","aboutMe",Re.b,"aboutMe",null,{className:Ue.a.infoTextarea})}),Object(a.jsx)("div",{children:Object(a.jsx)("b",{children:"fullName: "})}),Object(a.jsx)("div",{children:Object(Re.c)("text","fullName",Re.a,"fullName",null,{className:Ue.a.infoInput})}),Object(a.jsx)("div",{children:Object(a.jsx)("b",{children:"lookingForAJob: "})}),Object(a.jsx)("div",{children:Object(Re.c)("checkbox",null,"input","lookingForAJob",null,{className:Ue.a.infoInput})}),Object(a.jsx)("div",{children:Object(a.jsx)("b",{children:"lookingForAJobDescription: "})}),Object(a.jsx)("div",{children:Object(Re.c)("text","description",Re.b,"lookingForAJobDescription",null,{className:Ue.a.infoTextarea})}),Object.keys(r).map((function(e){return Object(a.jsx)(Ge,{title:e,value:Object(Re.c)("text",e,Re.a,"contacts."+e,null,{className:Ue.a.infoInput})},e)})),Object(a.jsx)("button",{className:"button",type:"submit",children:"save"})]})})),Je=function(e){var t=e.profile;return Object(a.jsxs)("div",{className:Ue.a.profileWrapper,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"aboutMe: "}),t.aboutMe]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"fullName: "}),t.fullName]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"lookingForAJob: "}),t.lookingForAJob?"yes":"no"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"lookingForAJobDescription: "}),t.lookingForAJobDescription]}),Object.keys(t.contacts).map((function(e){return Object(a.jsx)(Ve,{title:e,value:t.contacts[e]},e)}))]})},Ve=function(e){var t=e.title,n=e.value;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[t,":"]})," ",n]})},ze=Object(R.d)(i.g)((function(e){var t=Object(u.d)((function(e){return e.profile})),n=t.profile,c=t.status,s=Object(u.d)((function(e){return e.auth})).isAuth,o=Object(u.d)((function(e){return e.auth.id})),l=Object(r.useState)(!1),d=Object(Fe.a)(l,2),f=d[0],O=d[1],p=e.match.params.userId;p||(p=o)||e.history.push("/login");var h=Object(u.c)();return Object(r.useEffect)((function(){h($(p)),h(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:a=t.sent,n(Z(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(p))}),[c,p]),s?n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:Ue.a.background,children:Object(a.jsx)("img",{className:Ue.a.image,src:Be,alt:"Phone"})}),Object(a.jsxs)("div",{className:Ue.a.description,children:[Object(a.jsxs)("div",{className:ye()(Ue.a.avatar,Ue.a.infoAvatar),children:[Object(a.jsx)("img",{className:Ue.a.avatarImg,src:n.photos.large?n.photos.large:Me,alt:"Avatar"}),!e.match.params.userId&&Object(a.jsxs)("label",{htmlFor:"file",className:ye()(Ue.a.fileButton,"button"),children:["select photo",Object(a.jsx)("input",{className:Ue.a.selectFile,id:"file",type:"file",onChange:function(e){var t;h((t=e.target.files[0],function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:0===(a=e.sent).resultCode&&n(Q(a.data.photos));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})]}),!f&&!e.match.params.userId&&Object(a.jsx)("button",{className:ye()("button",Ue.a.editBtn),onClick:function(){O(!0)},children:"edit"}),Object(a.jsx)(De,{status:c}),f?Object(a.jsx)(He,{initialValues:n,onSubmit:function(e){var t;h((t=e,function(){var e=Object(b.a)(j.a.mark((function e(n,a){var r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.id,e.next=3,_(t);case 3:if(0!==(c=e.sent).resultCode){e.next=8;break}n($(r)),e.next=11;break;case 8:return s=c.messages.length>0?c.messages[0]:"some Error",n(Object(k.a)("infoForm",{_error:s})),e.abrupt("return",Promise.reject(s));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(){O(!1)}))}}):Object(a.jsx)(Je,{profile:n})]})]}):Object(a.jsx)(D,{}):Object(a.jsx)(i.a,{to:"/login"})})),qe=n.p+"static/media/anonymous_steam_avatars-1-1.a585a8f0.jpg",Ke=n(29),Xe=Object(Ke.a)(10),Ze=c.a.memo((function(e){var t=Object(u.d)((function(e){return e.profile.newPost})),n=Object(r.createRef)();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{className:Ue.a.newPosts,children:Object(Re.c)(null,"your news",Re.b,"textarea",[Ke.b,Xe],{value:t,className:Ue.a.textarea,ref:n})}),Object(a.jsx)("div",{className:Ue.a.buttonWrap,children:Object(a.jsx)("button",{className:ye()("button",Ue.a.button),children:"send"})})]})})),Qe=Object(We.a)({form:"posts"})(Ze),Ye=c.a.memo((function(e){var t=Object(u.d)((function(e){return e.profile.posts})),n=Object(u.c)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:Ue.a.posts,children:[Object(a.jsx)("h2",{children:"My posts"}),Object(a.jsx)(Qe,{onSubmit:function(e){var t;n((t=e.textarea,{type:G,newPost:t}))}}),t.map((function(e,t){return Object(a.jsxs)("div",{className:Ue.a.post,children:[Object(a.jsx)("div",{className:Ue.a.postImg,children:Object(a.jsx)("img",{src:qe,alt:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430"})}),Object(a.jsx)("span",{className:Ue.a.postText,children:e.post}),Object(a.jsxs)("span",{className:Ue.a.likes,children:["Likes: ",e.likes]})]},t+"_"+e.id)}))]})})})),$e=(n(130),n(37),n(70),n(24)),et=n.n($e),tt=n(42),nt=n.n(tt),at=n.p+"static/media/arrowRight.e9940b74.svg",rt=n.p+"static/media/arrowLeft.e204da84.svg",ct=function(e){for(var t=Object(u.d)((function(e){return e.users})),n=t.portionSize,c=t.totalUsersCount,s=t.currentPage,o=Object(u.c)(),i=[],l=Math.ceil(c/n),j=1;j<=l;j++)i.push(j);var b=l/10,d=Object(r.useState)(Math.ceil(s/10)),f=Object(Fe.a)(d,2),O=f[0],p=f[1],m=10*(O-1)+1,h=10*O;console.log(O);var _=function(e){o(Oe(n,e)),o(function(e){return{type:ae,currentPage:e}}(e))};return Object(a.jsxs)("div",{className:nt.a.pagesRow,children:[O>1&&Object(a.jsx)("button",{className:nt.a.pageButton,onClick:function(){return p(O-1)},children:Object(a.jsx)("img",{src:rt,alt:""})}),Object(a.jsx)("div",{className:nt.a.pages,children:i.filter((function(e){return e>=m&&e<=h})).map((function(e,t){return Object(a.jsx)("span",{onClick:function(){return _(e)},className:ye()(Object(Ee.a)({},nt.a.active,e===s),nt.a.page),children:e},e+"_"+t)}))}),b>O&&Object(a.jsx)("button",{className:nt.a.pageButton,onClick:function(){return p(O+1)},children:Object(a.jsx)("img",{src:at,alt:""})})]})},st=function(e){var t=e.name,n=e.age,r=e.status,c=e.photos,s=e.id,o=e.followed,i=e.isFollowing,l=Object(u.c)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(we.b,{to:"/profile/"+s,children:Object(a.jsx)("div",{className:et.a.userPhoto,children:Object(a.jsx)("img",{src:null!==c.small?c.small:Me,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})})}),Object(a.jsx)("div",{className:et.a.userName,children:t}),Object(a.jsx)("div",{className:et.a.userAge,children:n}),Object(a.jsx)("div",{className:et.a.userStatus,children:r}),Object(a.jsx)("div",{className:et.a.userCountry,children:"user.location.country"}),Object(a.jsx)("div",{className:et.a.userCity,children:"user.location.city"}),Object(a.jsx)("button",{className:ye()("button",et.a.button),disabled:i.some((function(e){return e===s})),onClick:function(){var e;l(fe(!0,s)),l(o?(e=s,function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=O.setUnfollow.bind(e),pe(n,a,be,e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=O.setFollow.bind(e),pe(n,a,je,e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s))},children:o?"follow":"unfollow"})]})},ot=function(e){var t=Object(u.d)((function(e){return e.users})),n=t.users,c=t.portionSize,s=t.totalUsersCount,o=t.currentPage,i=t.isFetching,l=t.isFollowing,j=Object(u.c)();return Object(r.useEffect)((function(){j(Oe(c,o))}),[]),Object(a.jsx)(a.Fragment,{children:i?Object(a.jsx)(D,{}):Object(a.jsxs)("div",{className:ye()("content",et.a.content),children:[Object(a.jsx)(ct,{totalUsersCount:s}),n.map((function(e,t){return Object(a.jsx)("div",{className:ye()(Object(Ee.a)({},et.a.userBlockOne,1===e.id),et.a.userBlock),children:Object(a.jsx)(st,Object(d.a)(Object(d.a)({},e),{},{isFollowing:l}))},e.id)}))]})})},it=n(75),ut=n.n(it),lt=Object(We.a)({form:"login"})((function(e){var t=Object(u.d)((function(e){return e.auth})).isCaptcha;return console.log(t),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:ut.a.loginForm,children:[Object(a.jsx)("div",{className:"formInput",children:Object(Re.c)("text","Login",Re.a,"email",Ke.b)}),Object(a.jsx)("div",{className:"formInput",children:Object(Re.c)("password","Password",Re.a,"password",Ke.b)}),Object(a.jsx)("div",{children:Object(Re.c)("checkbox",null,"input","rememberMe",null,{className:"formCheckbox"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"button "+ut.a.loginButton,children:"Login"})}),t&&Object(a.jsx)("img",{src:t.url,alt:""}),t&&Object(a.jsx)("div",{className:"formInput",children:Object(Re.c)("text","antibotSimbols",Re.a,"captcha",Ke.b)}),e.error&&Object(a.jsx)("div",{className:ut.a.loginError,children:e.error})]})})})),jt=function(e){var t=Object(u.d)((function(e){return e.auth})).isAuth,n=Object(u.c)();return t?Object(a.jsx)(i.a,{to:"/profile"}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsx)(lt,{onSubmit:function(e){var t,a,r,c;n((t=e.email,a=e.password,r=e.rememberMe,c=e.captcha,function(){var e=Object(b.a)(j.a.mark((function e(n){var s,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,a,r,c);case 2:0===(s=e.sent).resultCode?n(E()):10===s.resultCode?(n(F()),o=s.messages.length>0?s.messages[0]:"some Error",n(Object(k.a)("login",{_error:o}))):(i=s.messages.length>0?s.messages[0]:"some Error",n(Object(k.a)("login",{_error:i})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),console.log(e)}})]})},bt=function(e){return Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(ze,{}),Object(a.jsx)(Ye,{})]})},dt=c.a.lazy((function(){return Promise.resolve().then(n.bind(null,130))})),ft=function(e){var t=Object(u.c)(),n=Object(u.d)((function(e){return e.app})).initialized,c=Object(u.d)((function(e){return e.app})).error,s=Object(u.d)((function(e){return e.profile})).longStatus,o=function(){t(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(U(!0));case 2:setTimeout((function(){t(U(!1))}),3e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(r.useEffect)((function(){return t(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(E());case 2:n=e.sent,Promise.all([n]),t({type:L});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("unhandledrejection",o),function(){window.removeEventListener("unhandledrejection",o)}}),[]),n?Object(a.jsx)("div",{className:"appWrapper",children:Object(a.jsxs)("div",{className:"container",children:[c&&Object(a.jsx)("div",{className:"errorMessage",children:"SOMTHING WRONG"}),s&&Object(a.jsx)("div",{className:"errorMessage statusMessage",children:"STATUS SHOULD BE MORE THEN 300 SYMBOLS"}),Object(a.jsx)(Pe,{}),Object(a.jsx)(Ie,{}),Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(i.a,{to:"/profile"})}}),Object(a.jsx)(i.b,{path:"/profile/:userId?",component:bt}),Object(a.jsx)(i.b,{path:"/dialogs",render:function(){return Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)("div",{children:"Loading..."}),children:Object(a.jsx)(dt,{})})}}),Object(a.jsx)(i.b,{path:"/users",component:ot}),Object(a.jsx)(i.b,{path:"/login",component:jt}),Object(a.jsx)(i.b,{path:"*",render:function(){return Object(a.jsx)("div",{children:"404 PAGE NOT FOUND"})}})]})]})}):Object(a.jsx)(D,{})},Ot=function(e){return Object(a.jsx)(we.a,{children:Object(a.jsx)(u.a,{store:Ne,children:Object(a.jsx)(ft,{})})})},pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};o.a.render(Object(a.jsx)(Ot,{}),document.getElementById("root")),pt()},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Must be ".concat(e," characters or less")}}},37:function(e,t,n){"use strict";var a=n(0),r=(n(1),n(136)),c=n.n(r),s=n(17);t.a=function(e){var t=e.name,n=e.id;return Object(a.jsx)("div",{className:c.a.name,children:Object(a.jsx)(s.b,{to:"/dialogs/"+n,children:t})})}},38:function(e,t,n){e.exports={dialogsContent:"Dialogs_dialogsContent__1gCTC",name:"Dialogs_name__2pmV9",message:"Dialogs_message__1KQkI",addMessage:"Dialogs_addMessage__2xR0I",textarea:"Dialogs_textarea__3OD2t",buttonWrap:"Dialogs_buttonWrap__2n4UF",button:"Dialogs_button__1TNqY"}},42:function(e,t,n){e.exports={pagesRow:"Paginator_pagesRow__3rvQC",pages:"Paginator_pages__1UJwc",active:"Paginator_active__1N0uD",pageButton:"Paginator_pageButton__1N6W3"}},49:function(e,t,n){e.exports={header:"Header_header__2Looy",logo:"Header_logo__2hINE",login:"Header_login__1q58M",buttonLogout:"Header_buttonLogout__25pn8",hamburger:"Header_hamburger__2y2Bz"}},59:function(e,t,n){e.exports={formControlsInput:"FormControls_formControlsInput__3olgA",formControls:"FormControls_formControls__3sadh",error:"FormControls_error__HuO_3",textError:"FormControls_textError__aWBX0"}},70:function(e,t,n){"use strict";var a=n(0),r=(n(1),n(137)),c=n.n(r);t.a=function(e){var t=e.text;return Object(a.jsx)("div",{className:c.a.message,children:Object(a.jsx)("span",{children:t})})}},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(48),r=n(3),c="ADD__MESSAGE-dialogs-socialNetwork",s={messages:["hello","How, are you!","Hi","My name is Kesha!","I`m a cat"]},o=function(e){return{type:c,messageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[t.messageBody])});default:return e}}},75:function(e,t,n){e.exports={loginForm:"Login_loginForm__30Zhe",loginButton:"Login_loginButton__3sDbF",loginError:"Login_loginError__2P-JV"}},9:function(e,t,n){e.exports={background:"Profile_background__R8bc4",image:"Profile_image__22AcV",description:"Profile_description__82lQl",avatar:"Profile_avatar__Bq5Q_",infoAvatar:"Profile_infoAvatar__1nGVF",descriptionBlock:"Profile_descriptionBlock__1K_Zd",avatarImg:"Profile_avatarImg__3-K_T",textarea:"Profile_textarea__3_qSW",posts:"Profile_posts__1UofP",buttonWrap:"Profile_buttonWrap__2CgVb",post:"Profile_post__2rljv",postImg:"Profile_postImg__2YA38",postText:"Profile_postText__1GhrE",likes:"Profile_likes__1kVWH",statusText:"Profile_statusText__PWwPg",selectFile:"Profile_selectFile__zwxf-",fileButton:"Profile_fileButton__2N7SS",editBtn:"Profile_editBtn__83NIy",infoInput:"Profile_infoInput__1tlhi",infoTextarea:"Profile_infoTextarea__3p-Fh",loginError:"Profile_loginError__19BzU",content:"Profile_content__1E9rW",button:"Profile_button__dncc8",profileWrapper:"Profile_profileWrapper__3F66X"}}},[[289,1,2]]]);
//# sourceMappingURL=main.6f4fc0a7.chunk.js.map